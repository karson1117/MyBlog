<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[test]]></title>
      <url>http://karson.cc/2017/03/03/test/</url>
      <content type="html"></content>
    </entry>
    
    <entry>
      <title><![CDATA[VPS安装及配置nginx]]></title>
      <url>http://karson.cc/2017/01/04/vps-install-nginx/</url>
      <content type="html"><![CDATA[<p>反向代理（Reverse Proxy）方式是指以代理服务器来接受internet上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给internet上请求连接的客户端，此时代理服务器对外就表现为一个服务器。<br><img src="/img/articleImg/nginx.jpg" alt=""><br><a id="more"></a></p>
<h2 id="环境确认"><a href="#环境确认" class="headerlink" title="环境确认"></a>环境确认</h2><p>系统环境：Centos 6<br>安装方式：源码编译安装 <a href="http://www.285868.com/a/xtjc/5635.html" target="_blank" rel="external">几种Linux软件的安装方法</a><br>安装位置：/usr/local/nginx</p>
<h2 id="安装前提"><a href="#安装前提" class="headerlink" title="安装前提"></a>安装前提</h2><p>在安装nginx前，需要确保系统安装了g++、gcc、openssl-devel、pcre-devel和zlib-devel软件。</p>
<h2 id="开始安装"><a href="#开始安装" class="headerlink" title="开始安装"></a>开始安装</h2><p>进入安装目录<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/src</div></pre></td></tr></table></figure></p>
<h3 id="安装pcre-用于Nginx的HTTP-Rewrite-模块"><a href="#安装pcre-用于Nginx的HTTP-Rewrite-模块" class="headerlink" title="安装pcre(用于Nginx的HTTP Rewrite 模块)"></a>安装pcre(用于Nginx的HTTP Rewrite 模块)</h3><blockquote>
<p>注：若使用wget方式下载安装包可能会出现地址变更导致下载失败。<br>另一种方式：xftp可进行文件传输，本地下载好安装包后，利用xftp传输即可。</p>
</blockquote>
<figure class="highlight gauss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">cd /usr/<span class="keyword">local</span>/src </div><div class="line">wget ftp:<span class="comment">//ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.38.tar.gz  	   </span></div><div class="line">tar -zxvf pcre<span class="number">-8.38</span>.tar.gz <span class="meta">#解压文件</span></div><div class="line">mv pcre<span class="number">-8.38</span>   pcre <span class="meta">#修改解压后文件夹名称</span></div><div class="line">cd pcre</div><div class="line">./configure 		<span class="meta">#准备编译</span></div><div class="line"><span class="built_in">make</span> &amp; <span class="built_in">make</span> install	<span class="meta">#编译及安装</span></div></pre></td></tr></table></figure>
<h3 id="安装zilb-一个压缩和解压模块"><a href="#安装zilb-一个压缩和解压模块" class="headerlink" title="安装zilb(一个压缩和解压模块)"></a>安装zilb(一个压缩和解压模块)</h3><figure class="highlight nsis"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">cd /usr/local/src</div><div class="line">wget http://<span class="literal">zlib</span>.net/<span class="literal">zlib</span>-<span class="number">1.2</span>.<span class="number">8</span>.tar.gz</div><div class="line">tar -zxvf <span class="literal">zlib</span>-<span class="number">1.2</span>.<span class="number">8</span>.tar.gz</div><div class="line">mv <span class="literal">zlib</span>-<span class="number">1.2</span>.<span class="number">8</span> <span class="literal">zlib</span></div><div class="line">cd <span class="literal">zlib</span></div><div class="line">./configure</div><div class="line">make &amp; make install</div></pre></td></tr></table></figure>
<h3 id="安装SSl模块"><a href="#安装SSl模块" class="headerlink" title="安装SSl模块"></a>安装SSl模块</h3><blockquote>
<p>openssl是为网络通信提供安全及数据完整性的一种安全协议，囊括了主要的密码算法、常用的密钥和证书封装管理功能以及SSL协议，并提供了丰富的应用程序供测试或其它目的使用。</p>
</blockquote>
<figure class="highlight gauss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">cd /usr/<span class="keyword">local</span>/src</div><div class="line">wget http:<span class="comment">//www.openssl.org/source/openssl-1.0.1c.tar.gz</span></div><div class="line">tar -zxvf openssl<span class="number">-1.0</span><span class="number">.1</span>c.tar.gz</div><div class="line">mv openssl<span class="number">-1.0</span><span class="number">.1</span>c  openssl</div><div class="line">./config</div><div class="line"><span class="built_in">make</span> &amp; <span class="built_in">make</span> install</div></pre></td></tr></table></figure>
<h3 id="安装Nginx"><a href="#安装Nginx" class="headerlink" title="安装Nginx"></a>安装Nginx</h3><figure class="highlight haml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">cd /usr/local/src</div><div class="line">wget http://nginx.org/download/nginx-1.9.9.tar.gz</div><div class="line">tar -zxvf nginx-1.9.9.tar.gz</div><div class="line">cd nginx-1.9.9</div><div class="line"></div><div class="line">./configure --sbin-path=/usr/local/nginx \</div><div class="line">-<span class="ruby">-conf-path=<span class="regexp">/usr/local</span><span class="regexp">/nginx/nginx</span>.conf \</span></div><div class="line">-<span class="ruby">-pid-path=<span class="regexp">/usr/local</span><span class="regexp">/nginx/nginx</span>.pid \</span></div><div class="line">-<span class="ruby">-with-http_ssl_module \</span></div><div class="line">-<span class="ruby">-with-http_v2_module \</span></div><div class="line">-<span class="ruby">-with-pcre=<span class="regexp">/usr/local</span><span class="regexp">/src/pcre</span> \</span></div><div class="line">-<span class="ruby">-with-zlib=<span class="regexp">/usr/local</span><span class="regexp">/src/zlib</span> \</span></div><div class="line">-<span class="ruby">-with-openssl=<span class="regexp">/usr/local</span><span class="regexp">/src/openssl</span></span></div><div class="line"></div><div class="line">make &amp; make install</div><div class="line"></div><div class="line">cd /usr/local/nginx #进入nginx目录</div><div class="line">nginx				#启动nginx</div></pre></td></tr></table></figure>
<p>启动后浏览器导航到<a href="http://IP" target="_blank" rel="external">http://IP</a> 就可以看到默认的欢迎界面了</p>
<h3 id="Nginx常用命令"><a href="#Nginx常用命令" class="headerlink" title="Nginx常用命令"></a>Nginx常用命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">nginx <span class="_">-s</span> stop停止nginx</div><div class="line">nginx 运行nginx</div><div class="line">nginx <span class="_">-s</span> reload 重启nginx</div><div class="line">nginx -t 测试nginx</div></pre></td></tr></table></figure>
<h3 id="nginx加入到环境变量"><a href="#nginx加入到环境变量" class="headerlink" title="nginx加入到环境变量"></a>nginx加入到环境变量</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">vim</span> /etc/<span class="keyword">profile</span></div></pre></td></tr></table></figure>
<p>尾行添加<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">PATH=<span class="variable">$PATH</span><span class="symbol">:/usr/local/nginx</span> <span class="comment">#nginx安装目录</span></div><div class="line">export PATH </div></pre></td></tr></table></figure><br>保存关闭后运行<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">source</span> <span class="regexp">/etc/</span>profile</div></pre></td></tr></table></figure></p>
<h3 id="修改网站默认根目录路径"><a href="#修改网站默认根目录路径" class="headerlink" title="修改网站默认根目录路径"></a>修改网站默认根目录路径</h3><blockquote>
<p>网站默认根目录放在/usr/local/nginx/html</p>
</blockquote>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vim /usr/<span class="keyword">local</span>/nginx/<span class="keyword">conf</span>/nginx.<span class="keyword">conf</span></div></pre></td></tr></table></figure>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">server</span> &#123;</div><div class="line">	listen       <span class="number">80</span>;</div><div class="line">	server_name  你的IP;</div><div class="line">	<span class="meta">#charset koi8-r;</span></div><div class="line"></div><div class="line">	<span class="meta">#access_log  logs/host.access.log  main;</span></div><div class="line">	location / &#123;</div><div class="line">	root  /www/blog/<span class="keyword">public</span>;</div><div class="line">	<span class="keyword">index</span> <span class="keyword">index</span>.html <span class="keyword">index</span>.htm;</div><div class="line">	&#125;</div><div class="line">	.</div><div class="line">	.</div><div class="line">	.</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>root添加自己想要的根目录，重启nginx生效。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[VPS搭建多端口VPN]]></title>
      <url>http://karson.cc/2016/12/20/vps/</url>
      <content type="html"><![CDATA[<blockquote>
<p>为了防止世界被破坏，为了守护世界的和平!<br>贯彻爱与真实的邪恶，可爱又迷人的反派角色!<br>世界辣么大~还不去看看！</p>
</blockquote>
<p><img src="/img/articleImg/naruto.jpg" alt=""><br><a id="more"></a></p>
<h2 id="所需"><a href="#所需" class="headerlink" title="所需"></a>所需</h2><p>1.他乡vps一台<br>2.xshell用于远程登录<br>3.shadowsocks应用程序。<a href="https://github.com/shadowsocks/shadowsocks-windows/releases" target="_blank" rel="external">点这里</a></p>
<h2 id="Ready"><a href="#Ready" class="headerlink" title="Ready."></a>Ready.</h2><p>1.本人装备的是搬瓦工的vps,好处是可以无限制的重装系统。<br>2.<a href="http://hostingset.com/" target="_blank" rel="external">购买VPS</a><br>3.打开xshell连接<br><img src="/img/articleImg/xshell.png" alt=""></p>
<h2 id="GO！！"><a href="#GO！！" class="headerlink" title="GO！！"></a>GO！！</h2><p>1.安装所需组件<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">yum <span class="keyword">install</span> m2crypto python-setuptools</div><div class="line">easy_install pip</div><div class="line">pip <span class="keyword">install</span> shadowsocks</div></pre></td></tr></table></figure></p>
<p>2.新建配置文件：shadowsocks.json<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="string">"server"</span>:<span class="string">"23.105.215.43"</span>,   <span class="comment">#你服务器的ip</span></div><div class="line">    <span class="string">"local_address"</span>:<span class="string">"127.0.0.1"</span>,</div><div class="line">    <span class="string">"local_port"</span>:<span class="number">1080</span>,</div><div class="line">    <span class="string">"port_password"</span>:&#123;           <span class="comment">#端口以及对应的密码</span></div><div class="line">         <span class="string">"9000"</span>:<span class="string">"password"</span>,</div><div class="line">         <span class="string">"9001"</span>:<span class="string">"password"</span>,</div><div class="line">         <span class="string">"9002"</span>:<span class="string">"password"</span></div><div class="line">    &#125;,</div><div class="line">    <span class="string">"timeout"</span>:<span class="number">300</span>,</div><div class="line">    <span class="string">"method"</span>:<span class="string">"rc4-md5"</span>,         <span class="comment">#选择的加密方式</span></div><div class="line">    <span class="string">"fast_open"</span>: <span class="literal">false</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><br>3添加<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ssserver -c /etc/shadowsocks<span class="selector-class">.json</span></div><div class="line"></div><div class="line">ssserver -c /etc/shadowsocks<span class="selector-class">.json</span> -d start  #后台运行</div></pre></td></tr></table></figure><br>4.开启shadowsocks应用程序，输入ip,端口号,密码。就OK啦~<br>5.Android用户想要连接本文配置的vpn,请搜下图app.<br><img src="/img/articleImg/shadowsocks.png" alt=""></p>
]]></content>
    </entry>
    
  
  
</search>
